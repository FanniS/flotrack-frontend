<div class="form-container">
  <h2 id="headerText">{{ isEdit ? 'Edit Transaction' : 'Add Transaction' }}</h2>
  <form class="form-container" (ngSubmit)="onSubmit()" [formGroup]="transactionForm">
    <div class="form-group">
      <h4 for="category">Category:</h4>
      <div class="radio-group">
        <label for="categoryTypeExpense">Expense</label>
        <input id="categoryTypeExpense" type="radio" formControlName="isExpense" [value]="true" checked />
        <label for="categoryTypeIncome">Income</label>
        <input id="categoryTypeIncome" type="radio" formControlName="isExpense" [value]="false" />
      </div>
      <label for="category">Select Category:</label>
      <div class="form-group">
        <select id="category" formControlName="categoryId" required="true">
          <option *ngFor="let category of categoryOptions" [value]="category.id">{{ category.name }}</option>
        </select>
        @if (transactionForm.get('categoryId')?.errors?.['required']) {
        <small class="error-message">Category is required.</small>
        }
      </div>

    </div>

    <div class="form-group">
      <label for="amount">Amount (EUR):</label>
      <input id="amount" type="number" formControlName="amount" required="true" min="0.00" step="0.01"
        placeholder="0.00" currency="EUR" />
      @if (transactionForm.get('amount')?.touched && transactionForm.get('amount')?.invalid) {
      @if (transactionForm.get('amount')?.errors?.['required']) {
      <small class="error-message">Amount is required.</small>
      }
      @else if (transactionForm.get('amount')?.errors?.['min']) {
      <small class="error-message">Amount must be greater than 0.</small>
      }
      }
    </div>

    <div class="form-group">
      <label for="date">Date:</label>
      <input id="date" type="date" formControlName="date" />
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" formControlName="description"></textarea>
    </div>

    <div class="button-group">
      <button type="button" id="cancel-button" (click)="cancel()">Cancel</button>
      <button type="submit">{{ isEdit ? 'Update' : 'Add' }} Transaction</button>
      @if (transactionError) {
      <div class="error-message">{{ transactionError }}</div>
      }
    </div>

  </form>
</div>
